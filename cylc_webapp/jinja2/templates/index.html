<!DOCTYPE html>

<html lang="en-us">

<head>
<meta charset="utf-8">
<title>Capstone</title>

  
    <link href="{{ static('styles.css') }}" rel="stylesheet" type="text/css" />
 

<script src="https://code.jquery.com/jquery-latest.js"> </script>
<script>
    $(document).ready(function() {
        refreshData();
    });
    
    function refreshData() {
        var url = 'webapp'; 
        $('#refreshWrapper').load(url + ' #refreshableData', function(){
            setTimeout(refreshData, 1000);
        }); 
    }
</script> 


</head>


<body style="background-color:#DCDAD5;">

<div class="navbar">
  <a href="#home"><u>F</u>ile</a>
  <a href="#news"><U>V</U>iew</a>
  <a href="#news"><u>C</u>ontrol</a>
  <a href="#news"><u>S</u>uite</a>
  <a href="#news"><u>H</u>elp</a>
</div>

    <hr>
  
        <button class="navbar" style="float:left;margin-right:45px;margin-top: 0.0em;">
            <img src="{{ static('Pictures/pause.png') }}" height="25" width="25"  />
            <p style="text-align:center;margin-top: 0.0em;"> Hold </p>
        </button>
        
        <button class="navbar" style="float:left;margin-right:35px; align=right">
            <img src="{{ static('Pictures/1486348535-music-square-stop-play-pause_80450.png') }}" height="25" width="25"   />
            <p style="text-align:right;margin-top: 0.0em;"> Stop Suite </p>
        </button>
        
        <button id="refresh" class="navbar" style="float:left;margin-right:35px; align=right">
            <img src="{{ static('Pictures/Simpleicons_Interface_redo-circular-arrow.svg.png') }}" height="25" width="25"   />
            <p style="text-align:right;margin-top: 0.0em;"> (Re-) connect </p>
        </button>
        
        
    <div class="navbar" style="float:left;margin-right:35px; align=bottom ; text-align:right;margin-top: 29px " > View 1: </div>
        
        <button class="navbar" style="float:left;margin-right:35px; align=right">
            <img src="{{ static('Pictures/026_-_health_care_healthcare_plus_cross_hospital-512.png') }}" height="25" width="25"  />
            <p style="text-align:right;margin-top: 0.0em;"> Expand </p>
        </button>
        
        <button class="navbar" style="float:left;margin-right:35px; align=right">
            <img src="{{ static('Pictures/5075.png') }}" height="25" width="25"   />
            <p style="text-align:right;margin-top: 0.0em;"> Collapse  </p>
        </button>
        
        <button class="navbar" style="float:left;margin-right:35px; align=right">
            <img src="{{ static('Pictures/group-objects.png') }}" height="25" width="25"  />
            <p style="text-align:right;margin-top: 0.0em;"> Group </p> 
        </button>
        
        <button class="navbar" style="float:left;margin-right:35px; align=right">
            <img src="{{ static('Pictures/Forward_2-512.png') }}" height="25" width="25"  />
            <p style="text-align:right ;margin-top: 0.0em; margin-right: 5.0em"> Layout  </p> 
        </button>
            
            
    <div class="navbar" style="float:left;margin-right:35px; align=bottom ; text-align:right;margin-top: 29px " > View 2: </div>
            
        <button class="navbar" style="float:left;margin-right:35px; align=right">
            <img src="{{ static('Pictures/group-objects.png') }} " height="25" width="25"  />
            <p style="text-align:right;margin-top: 0.0em;"> Group </p> 
        </button>
           
        <button class="navbar" style="float:left;margin-right:35px; align=right">
            <img src="{{ static('Pictures/ungroup-objects.png') }}" height="25" width="25"  />
            <p style="text-align:right;margin-top: 0.0em;"> Ungroup </p> 
        </button>
           
        <button class="navbar" style="float:left;margin-right:35px; align=right">
            <img src="{{ static('Pictures/40-512.png') }}" height="25" width="25"  />
            <p style="text-align:right;margin-top: 0.0em;"> Transpose </p> 
        </button>
           
        <button class="navbar" style="float:left;margin-right:35px; align=right">
            <img src="{{ static('Pictures/5967-200.png') }}" height="25" width="25"  />
            <p style="text-align:right;margin-top: 0.0em;"> Subgraphs </p> 
        </button>
           
        <button class="navbar" style="float:left;margin-right:35px; align=right">
            <img src="{{ static('Pictures/zoom-in-512.png') }}" height="25" width="25"  />
            <p style="text-align:right;margin-top: 0.0em;"> Zoom In </p> 
        </button>
           
        <button class="navbar" style="float:left;margin-right:35px; align=right">
            <img src="{{ static('Pictures/4-512.png') }}" height="25" width="25"  />
            <p style="text-align:right;margin-top: 0.0em;"> Zoom Out </p> 
        </button>
    <br><br><br><br>
    <hr>
<br>

<div style="height:800px;border:1px solid #000; background-color:white;">
    
    
<div id="refreshWrapper">
    <div id = "refreshableData">
        <table id="JobDisplay">
    
            <!--set up header-->
            
            <!--this isn't the right way to do it, placeholder-->
            
            <th>task</th>
            <th>label</th>
        	<th>state</th>
        	<th>host</th>
        	<th>latest message</th>
        	<th>job system</th>
        	<th>job ID</th>
        	<th>T-submit</th>
        	<th>T-start</th>
        	<th>T-finish</th>
        	<th>dT-mean</th>
        	
            <!--fill rows/col-->
            <!--TODO: check au.py and figure out how to give the data SORTED-->
            {% for item in data %}
        	<tr>
        		<td>
        		    <!--TODO: display "expanded" arrow for non cycle point groups-->
        		    <!--simply check to see if is_group is True and indent != 0-->
        		    
        		    <!--TODO: cased for running / runahead states-->
        		    
        		    {% if item["state"] == "succeeded" %}
        		        <div class="square" style="background-color: green"> </div>
        		    {% elif item["state"] == "queued" %}
        		        <div class="square" style="background-color: yellow"> </div>
        		    {% elif item["state"] == "waiting" %}
        		        <div class="square" style="background-color: blue"> </div>
        		    {% elif item["state"] == "ready" %}
        		        <div class="square" style="background-color: brown"> </div>
        		    {% elif item["state"] == "held" %}
        		        <div class="square" style="background-color: pink"> </div>
        		    {% elif item["state"] == "failed" %}
        		        <div class="square" style="background-color: red"> </div>
        		    {% else %}
        		        <!--TODO: need to make this display the color of the status of the whole group-->
        		        <div class="square" style="background-color: white; border: 1px solid black"> </div>
        		    {% endif %}
        		    
        		    {% for i in range(item['indent']) %}    
        		        &emsp;&emsp;
        		    {% endfor %}
        		    
                    {{ item["name"] }}
        		    
        		</td>
        		<td>{{ item["label"] }}</td>
        		<td>{{ item["state"] }}</td>
        		<td>{{ item["host"] }}</td>
        		<td>{{ item["latest_message"] }}</td>
        		<td>{{ item["batch_sys_name"] }}</td>
        		<td>{{ item["submit_method_id"] }}</td>
        		<td>{{ item["submitted_time_string"] }}</td>
        		<td>{{ item["started_time_string"] }}</td>
        		<td>{{ item["finished_time_string"] }}</td>
        		<td>{{ item["mean_elapsed_time"] }}</td>
    
    	
        	</tr>
            {% endfor %}
        </table>
    </div>
</div>     
     
 </div>
  
</body>
</html>
